<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: Parallel Computing</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">Parallel Computing</h1></a>
          <h2 class="subtitle">MPI for Python (MPI4Py)</h2>
          <section class="objectives panel panel-warning">
<div class="panel-heading">
<h2 id="learning-objectives"><span class="glyphicon glyphicon-certificate"></span>Learning Objectives</h2>
</div>
<div class="panel-body">
<ul>
<li>Learn about MPI bindings for Python.</li>
<li>Learn abouut the simplified form of basic MPI features in Python.</li>
</ul>
</div>
</section>
<p>MPI was originally designed for FORTRAN and C. Later (in version 2) C++ was added. Meanwhile, some implementations of MPI cover Java. It was only a matter of time that someone would supply us with a Python version. The MPI interfaces we will work with are called “MPI4Py” (see http://pythonhosted.org/mpi4py/). This is not the only package with this purpose, but it is simple to use and therefore ideally suited for an introductory course.</p>
<p>One nice thing about MPI4Py is that many simple applications don’t require as detailed specification as is needed for the native bindings of MPI. For beginners this means that they don’t have to worry about a lot of details that are required when dealing with MPI in C or C++. On the other hand, once moving on to bigger projects, some of these details become important and one has to re-visit them.</p>
<p>Here’s a list of MPI functions that we will be using in our next few mini-projects. They are the absolute minimum needed to write a working MPI program</p>
<table style="width:90%;">
<colgroup>
<col width="16%" />
<col width="15%" />
<col width="58%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">Action</th>
<th align="left">Name of Command</th>
<th align="left">Simplest Implementation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Package Load</td>
<td align="left"></td>
<td align="left">from mpi4py import MPI</td>
</tr>
<tr class="even">
<td align="left">Initialization</td>
<td align="left">MPI_Init</td>
<td align="left">Not required in Python, happens when loading MPI4Py</td>
</tr>
<tr class="odd">
<td align="left">Finalization</td>
<td align="left">MPI_Finalize</td>
<td align="left">Not required, happens automatically at program end</td>
</tr>
<tr class="even">
<td align="left">Communicator</td>
<td align="left">Set directly</td>
<td align="left">comm=MPI_COMM_WORLD</td>
</tr>
<tr class="odd">
<td align="left">Rank</td>
<td align="left">MPI_Comm_rank</td>
<td align="left">comm.Get_rank()</td>
</tr>
<tr class="even">
<td align="left">Size</td>
<td align="left">MPI_Comm_size</td>
<td align="left">comm.Get_size()</td>
</tr>
<tr class="odd">
<td align="left">Send (blocking)</td>
<td align="left">MPI_Send</td>
<td align="left">comm.Send(data, dest=drank, tag=itag) (automatic)</td>
</tr>
<tr class="even">
<td align="left">Receive (blocking)</td>
<td align="left">MPI_Recv</td>
<td align="left">comm.Recv(data, source=srank, tag=itag) (automatic)</td>
</tr>
<tr class="odd">
<td align="left">Broadcast</td>
<td align="left">MPI_Bcast</td>
<td align="left">comm.Bcast(data, root=rrank) (automatic)</td>
</tr>
<tr class="even">
<td align="left">Reduce</td>
<td align="left">MPI_Reduce</td>
<td align="left">comm.Reduce(pdata, tdata, op=MPI.op, root=rrank) (automatic)</td>
</tr>
<tr class="odd">
<td align="left">Barrier</td>
<td align="left">MPI_Barrier</td>
<td align="left">Comm.Barrier()</td>
</tr>
</tbody>
</table>
<p>Note that for most of these there are several ways of specifying details by adding more arguments. For how to use this, you need to study the package in detail. The most compelling aspect of these interfaces is that Python usually can figure out what is the type and shape of the data that are being transmitted. As long as things match on both sides of the communication, you’re usually good.</p>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="http://software-carpentry.org">Software Carpentry</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/python-novice-inflammation">Source</a>
        <a class="label swc-blue-bg" href="mailto:admin@software-carpentry.org">Contact</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
